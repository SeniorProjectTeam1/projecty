<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Ideation - Senior Project</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body { background-color: #064e3b; color: white; font-family: 'Inter', sans-serif; }
        input, select, button, label { color: #000; }
        .slider { width: 100%; }
        .loading-spinner { border: 4px solid #f3f3f3; border-top: 4px solid #10b981; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .card { background-color: #065f46; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; }
    </style>
</head>
<body>
    <div class="p-6 max-w-4xl mx-auto">
        <h1 class="text-3xl mb-4">AI-Powered Ideation - Senior Project</h1>
        <div class="mb-4">
            <label>OpenAI API Key:</label>
            <input type="password" id="apiKey" class="w-full p-2 rounded" placeholder="sk-...">
        </div>
        <div class="mb-4">
            <label>Project Topic (optional):</label>
            <input type="text" id="topic" class="w-full p-2 rounded" placeholder="Describe project context">
        </div>
        <div class="mb-4">
            <label>Category:</label>
            <select id="category" class="w-full p-2 rounded">
                <option>edtech</option>
                <option>iot/embedded</option>
                <option>health</option>
                <option>fintech</option>
                <option>sustainability</option>
                <option>campus life</option>
            </select>
        </div>
        <div class="mb-4">
            <label>Model:</label>
            <select id="model" class="w-full p-2 rounded">
                <option>gpt-4</option>
                <option>gpt-4-turbo</option>
                <option>gpt-3.5-turbo</option>
            </select>
        </div>
        <div class="mb-4">
            <label>Innovation (1-10):</label>
            <input type="range" id="innovation" min="1" max="10" value="5" class="slider">
        </div>
        <div class="mb-4">
            <label>Tech Level (1-10):</label>
            <input type="range" id="tech" min="1" max="10" value="5" class="slider">
        </div>
        <div class="mb-4">
            <label>Resources (1-10):</label>
            <input type="range" id="resources" min="1" max="10" value="5" class="slider">
        </div>
        <div class="mb-4">
            <label>Timeline Speed (1-10):</label>
            <input type="range" id="timeline" min="1" max="10" value="5" class="slider">
        </div>
        <div class="mb-4">
            <label>Price (1-10):</label>
            <input type="range" id="price" min="1" max="10" value="5" class="slider">
        </div>
        <div class="mb-4">
            <label>Market Strength (1-10):</label>
            <input type="range" id="market" min="1" max="10" value="5" class="slider">
        </div>
        <button id="generateBtn" class="bg-green-700 p-2 rounded mb-2">Generate</button>
        <button id="clearBtn" class="bg-red-700 p-2 rounded mb-2">Clear</button>
        <div id="loading" class="hidden mb-4 flex items-center space-x-2"><div class="loading-spinner"></div><span>Generating projects...</span></div>
        <div id="results"></div>
    </div>

    <script>
        const apiKeyInput = document.getElementById('apiKey');
        const generateBtn = document.getElementById('generateBtn');
        const clearBtn = document.getElementById('clearBtn');
        const loading = document.getElementById('loading');
        const results = document.getElementById('results');

        async function generateProjects() {
            const key = apiKeyInput.value.trim();
            if (!key) { alert('Please enter your OpenAI API key'); return; }

            loading.classList.remove('hidden');
            results.innerHTML = '';

            const topic = document.getElementById('topic').value;
            const category = document.getElementById('category').value;
            const model = document.getElementById('model').value;
            const innovation = document.getElementById('innovation').value;
            const tech = document.getElementById('tech').value;
            const resourcesVal = document.getElementById('resources').value;
            const timeline = document.getElementById('timeline').value;
            const price = document.getElementById('price').value;
            const market = document.getElementById('market').value;

            const prompt = `Generate 10 ECE senior project ideas with the following criteria:\nTopic: ${topic}\nCategory: ${category}\nInnovation: ${innovation}/10\nTech: ${tech}/10\nResources: ${resourcesVal}/10\nTimeline Speed: ${timeline}/10\nPrice: ${price}/10\nMarket Strength: ${market}/10\nProvide title, description, tags, and a score for each attribute.`;

            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${key}`, 'Content-Type': 'application/json' },
                    body: JSON.stringify({ model: model, messages: [{ role: 'user', content: prompt }], temperature: 0.8, max_tokens: 2000 })
                });

                if (!response.ok) throw new Error(`API Error: ${response.status}`);
                const data = await response.json();
                const content = data.choices[0].message.content;

                // Simple parsing by splitting into projects
                const projects = content.split(/\n(?=\d+\.)/).filter(p => p.trim() !== '');

                projects.forEach((p, i) => {
                    const div = document.createElement('div');
                    div.className = 'card';
                    div.innerHTML = `<h2>${i+1}. ${p.split('\n')[0]}</h2><p>${p}</p>`;
                    results.appendChild(div);
                });

            } catch (e) {
                alert('Error: ' + e.message);
            } finally {
                loading.classList.add('hidden');
            }
        }

        function clearAll() {
            results.innerHTML = '';
            apiKeyInput.value = '';
            document.getElementById('topic').value = '';
            document.getElementById('category').selectedIndex = 0;
            document.getElementById('model').selectedIndex = 0;
            document.getElementById('innovation').value = 5;
            document.getElementById('tech').value = 5;
            document.getElementById('resources').value = 5;
            document.getElementById('timeline').value = 5;
            document.getElementById('price').value = 5;
            document.getElementById('market').value = 5;
        }

        generateBtn.addEventListener('click', generateProjects);
        clearBtn.addEventListener('click', clearAll);
    </script>
</body>
</html>
